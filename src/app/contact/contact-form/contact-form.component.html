<div class="main-container">
    <div *ngIf="isSending" class="spinner-wrapper">
        <mat-spinner></mat-spinner>
    </div>
    <form 
        [formGroup]="form" 
        (ngSubmit)="onSubmit(form, formDirective)"
        #formDirective="ngForm"
        (keydown.enter)="$event.preventDefault()">
        <mat-form-field>
            <input matInput placeholder="Saisissez votre nom" id="name" formControlName="name" required>
            <mat-error *ngIf="form.get('name').invalid">Vous devez saisir votre nom</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Entrez votre email" id="email" formControlName="email" required>
            <mat-error *ngIf="form.get('email').invalid">Email invalide</mat-error>
        </mat-form-field>
        <mat-form-field>
            <textarea formControlName="message" matInput matTextareaAutosize matAutosizeMinRows=5 placeholder="Votre message" required></textarea>
        </mat-form-field>
        <button mat-button>Envoyer</button>
    </form>
</div>